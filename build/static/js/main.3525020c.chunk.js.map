{"version":3,"sources":["LoadingIndicator/LoadingIndicator.js","Search.js","ItemButtons.js","Item.js","Results.js","BackToTop.js","home.js","refreshToken.js","login.js","App.js","index.js"],"names":["LoadingIndicator","props","usePromiseTracker","promiseInProgress","style","width","height","display","justifyContent","alignItems","type","color","printTypes","bookTypes","apiKey","apiURL","Search","state","searchTerm","printType","bookType","handleChange","event","target","name","value","setState","fetchBooks","getURL","trackPromise","fetch","then","res","ok","Error","json","data","updateResults","catch","err","error","message","e","preventDefault","this","bookTypeOptions","map","bookTypeOption","i","key","printTypeOptions","printTypeOption","className","id","onSubmit","handleSubmit","htmlFor","required","aria-required","placeholder","onChange","React","Component","ItemButtons","title","link","onClick","newBook","axios","post","window","open","Item","book","imgPlaceholderURL","authorList","volumeInfo","authors","author","index","push","join","getAuthorList","smallThumbnail","smallThumbnailURL","imageLinks","getSmallThumbnail","price","saleInfo","retailPrice","amount","currency","currencyCode","getPrice","buyLink","src","alt","description","Results","searchResults","bookList","totalItems","items","length","BackToTop","goBackToTop","showBackToTop","Home","handleScroll","scrollY","scrollToRef","ref_SearchResults","el","scrollTo","top","current","offsetTop","behavior","ref_SearchForm","createRef","addEventListener","removeEventListener","location","ref","refreshTokenSetup","refreshTiming","tokenObj","expires_in","refreshToken","a","reloadAuthResponse","newAuthRes","console","log","localStorage","setItem","id_token","setTimeout","clientId","Login","history","useHistory","buttonText","onSuccess","alert","pathname","Lu","tf","onFailure","cookiePolicy","marginTop","alignSelf","isSignedIn","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3525020c.chunk.js","sourcesContent":["import React from 'react';\n\nimport Loader from 'react-loader-spinner';\nimport { usePromiseTracker } from 'react-promise-tracker';\n\n// loading spinner\nconst LoadingIndicator = props => {\n\tconst { promiseInProgress } = usePromiseTracker();\n\n\treturn (\n\t\tpromiseInProgress && (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: 'center'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Loader type=\"Oval\" color={'#F88C04'} height={100} width={100} />\n\t\t\t</div>\n\t\t)\n\t);\n};\n\nexport default LoadingIndicator;\n","import React from 'react';\n\n// using trackPromise so can use LoadingIndicator\nimport { trackPromise } from 'react-promise-tracker';\nimport LoadingIndicator from './LoadingIndicator/LoadingIndicator';\n\nconst printTypes = ['all', 'books', 'magazines'];\nconst bookTypes = ['partial', 'full', 'free-ebooks', 'paid-ebooks', 'ebooks'];\n\nconst apiKey = 'AIzaSyCIxIIcpTwWrV5HmCj_q4AWZRAqD7y6CFI';\nconst apiURL = 'https://www.googleapis.com/books/v1/volumes';\n\nexport class Search extends React.Component {\n\tstate = {\n\t\tsearchTerm: '',\n\t\tprintType: 'all',\n\t\tbookType: 'full'\n\t};\n\n\thandleChange = event => {\n\t\tconst {\n\t\t\ttarget: { name, value }\n\t\t} = event;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tthis.fetchBooks();\n\t}\n\n\tfetchBooks = () => {\n\t\tconst getURL = `${apiURL}?key=${apiKey}&langRestrict=en&maxResults=40&orderBy=relevance&q=${this.state.searchTerm}&filter=${this.state.bookType}&printType=${this.state.printType}`;\n\n\t\t// console.log(getURL);\n\t\t// console.log(JSON.stringify(this.state.searchTerm, null, 2));\n\n\t\ttrackPromise(\n\t\t\tfetch(getURL)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (!res.ok) {\n\t\t\t\t\t\tthrow new Error('Something went wrong, please try again later.');\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\treturn res.json();\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tthis.props.updateResults(data);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\terror: err.message\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t);\n\t};\n\n\trender() {\n\t\tconst bookTypeOptions = bookTypes.map((bookTypeOption, i) => (\n\t\t\t<option value={bookTypeOption} key={bookTypeOption}>\n\t\t\t\t{bookTypeOption}\n\t\t\t</option>\n\t\t));\n\t\tconst printTypeOptions = printTypes.map((printTypeOption, i) => (\n\t\t\t<option value={printTypeOption} key={printTypeOption}>\n\t\t\t\t{printTypeOption}\n\t\t\t</option>\n\t\t));\n\n\t\treturn (\n\t\t\t<div className=\"header_content\">\n\t\t\t\t<h1>Search Books</h1>\n\n\t\t\t\t<form id=\"form\" onSubmit={e => this.handleSubmit(e)}>\n\t\t\t\t\t<legend />\n\n\t\t\t\t\t<label htmlFor=\"searchTerm\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"searchTerm\"\n\t\t\t\t\t\t\tid=\"searchTerm\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\taria-required=\"true\"\n\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\tvalue={this.state.searchTerm}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t\t<button id=\"search\">search</button>\n\n\t\t\t\t\t<div className=\"select-container\">\n\t\t\t\t\t\t<label htmlFor=\"printType\">\n\t\t\t\t\t\t\tPrint Type{' '}\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid=\"printType\"\n\t\t\t\t\t\t\t\tname=\"printType\"\n\t\t\t\t\t\t\t\tvalue={this.state.printType}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{printTypeOptions}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label htmlFor=\"bookType\">\n\t\t\t\t\t\t\tBook Type{' '}\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid=\"bookType\"\n\t\t\t\t\t\t\t\tname=\"bookType\"\n\t\t\t\t\t\t\t\tvalue={this.state.bookType}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{bookTypeOptions}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\n\t\t\t\t<p id=\"error-message\" className=\"error-message\">\n\t\t\t\t\t{this.state.error}\n\t\t\t\t</p>\n\n\t\t\t\t<LoadingIndicator />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport axios from 'axios';\n\nexport class ItemButtons extends React.Component {\n\trender() {\n\t\tconst { title } = this.props;\n\t\tconst { name } = this.props;\n\t\t\n\t\tconst notify = () =>{\n\t\t\tconst newBook = {\n\t\t\t\tname : name,\n\t\t\t\ttitle : title\n\t\t\t}\n\t\t\taxios.post('http://localhost:3001/', newBook);\n\t\t\t//console.log(\"success\");\n\t\t\twindow.open(this.props.link, \"_blank\");\n\t\t\t//<a href={this.props.link} target=\"_blank\" rel=\"noopener noreferrer\"></a>\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"item-buttons\">\n\t\t\t\t{this.props.link ? (\n\t\t\t\t\t<button id='a' onClick={notify}>view</button>\n\t\t\t\t) : (\n\t\t\t\t\t<em>\n\t\t\t\t\t\t<small>no link</small>\n\t\t\t\t\t</em>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n","import React from 'react';\nimport { ItemButtons } from './ItemButtons';\n\nexport class Item extends React.Component {\n\trender() {\n\t\tconst { name } = this.props;\n\t\tconst { book } = this.props;\n\n\t\tconst imgPlaceholderURL = 'https://via.placeholder.com/150';\n\n\t\tconst authorList = getAuthorList(book);\n\t\tconst smallThumbnail = getSmallThumbnail(book);\n\t\tconst price = getPrice(book);\n\n\t\tfunction getAuthorList(book) {\n\t\t\tlet authorList = book.volumeInfo && book.volumeInfo.authors;\n\n\t\t\tlet authors = [];\n\t\t\tif (!authorList) {\n\t\t\t\treturn 'N/A';\n\t\t\t}\n\t\t\tauthorList.map((author, index) => authors.push(author));\n\n\t\t\treturn authors.join(', ');\n\t\t}\n\n\t\tfunction getPrice(book) {\n\t\t\tlet price = book.saleInfo.retailPrice && book.saleInfo.retailPrice.amount;\n\n\t\t\tlet currency =\n\t\t\t\tbook.saleInfo.retailPrice && book.saleInfo.retailPrice.currencyCode;\n\n\t\t\tif (!price) {\n\t\t\t\treturn 'N/A';\n\t\t\t}\n\n\t\t\treturn `${price} ${currency}`;\n\t\t}\n\n\t\tfunction getSmallThumbnail(book) {\n\t\t\tlet smallThumbnailURL =\n\t\t\t\tbook.volumeInfo &&\n\t\t\t\tbook.volumeInfo.imageLinks &&\n\t\t\t\tbook.volumeInfo.imageLinks.smallThumbnail;\n\t\t\treturn smallThumbnailURL ? smallThumbnailURL : imgPlaceholderURL;\n\t\t}\n\n\t\treturn (\n\t\t\t<li className=\"item\">\n\t\t\t\t<div className=\"item-header\">\n\t\t\t\t\t<div className=\"item-subhead\">\n\t\t\t\t\t\t<h3>{book.volumeInfo.title}</h3>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tAuthor: {authorList}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tPrice: {price}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ItemButtons link={book.saleInfo.buyLink} title={book.volumeInfo.title} name={name} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"item-description-container\">\n\t\t\t\t\t<div className=\"item-description\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={smallThumbnail}\n\t\t\t\t\t\t\talt={smallThumbnail ? book.volumeInfo.title : 'no-image'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{book.volumeInfo.description}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport { Item } from './Item';\n\nexport class Results extends React.Component {\n\trender() {\n\t\tconst { searchResults } = this.props;\n\t\t//console.log(searchResults[1])\n\t\tlet bookList = [];\n\n\t\tif (\n\t\t\tsearchResults[0][0] &&\n\t\t\tsearchResults[0][0].totalItems &&\n\t\t\tsearchResults[0][0].items\n\t\t) {\n\t\t\tbookList = searchResults[0][0].items.map((book, index) => {\n\t\t\t\treturn <Item key={index} book={book} name={searchResults[1]} />;\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<section id=\"results\">\n\t\t\t\t<h2>Search Results</h2>\n\t\t\t\t<ul id=\"results-list\" className=\"item-list\">\n\t\t\t\t\t{!bookList.length ? 'No books found!' : <>{bookList}</>}\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t);\n\t}\n}\n","import React from 'react';\n\nexport class BackToTop extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tid=\"back-to-top\"\n\t\t\t\tclassName=\"back-to-top\"\n\t\t\t\tonClick={this.props.goBackToTop}\n\t\t\t\tstyle={{ display: this.props.showBackToTop ? 'block' : 'none' }}\n\t\t\t>\n\t\t\t\tback to top\n\t\t\t</button>\n\t\t);\n\t}\n}\n","import React from 'react';\r\nimport { Search } from './Search';\r\nimport { Results } from './Results';\r\nimport { BackToTop } from './BackToTop';\r\nimport './App.css';\r\n\r\nclass Home extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.ref_SearchForm = React.createRef();\r\n\t\tthis.ref_SearchResults = React.createRef();\r\n\t}\r\n\r\n\tstate = {\r\n\t\tsearchResults: [],\r\n\t\tshowBackToTop: false\r\n\t};\r\n\r\n\thandleScroll = () => {\r\n\t\tif (window.scrollY === 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowBackToTop: false\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowBackToTop: true\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('scroll', this.handleScroll);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('scroll', this.handleScroll);\r\n\t}\r\n\r\n\tupdateResults = data => {\r\n\t\tthis.setState({\r\n\t\t\tsearchResults: [data]\r\n\t\t});\r\n\t\tthis.scrollToRef(this.ref_SearchResults);\r\n\t};\r\n\r\n\tscrollToRef = el => {\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: el.current.offsetTop,\r\n\t\t\tbehavior: 'smooth'\r\n\t\t});\r\n\t};\r\n\r\n\r\n\r\n\trender() {\r\n        const name = this.props.location.state.res;\r\n\t\t\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t\r\n\t\t\t\t<header id=\"head\" ref={this.ref_SearchForm}>\r\n\t\t\t\t\t<Search updateResults={data => this.updateResults(data)} />\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<main id=\"main\" ref={this.ref_SearchResults}>\r\n\t\t\t\t\t{this.state.searchResults.length > 0 ? (\r\n\t\t\t\t\t\t<Results searchResults={[this.state.searchResults,name]} />\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</main>\r\n\r\n\t\t\t\t<footer>\r\n\t\t\t\t\t{this.state.searchResults.length > 0 ? (\r\n\t\t\t\t\t\t<BackToTop\r\n\t\t\t\t\t\t\tgoBackToTop={() => this.scrollToRef(this.ref_SearchForm)}\r\n\t\t\t\t\t\t\tshowBackToTop={this.state.showBackToTop}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</footer>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Home;\r\n","export const refreshTokenSetup = (res) => {\r\n    // Timing to renew access token\r\n    let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\r\n  \r\n    const refreshToken = async () => {\r\n      const newAuthRes = await res.reloadAuthResponse();\r\n      refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\r\n      console.log('newAuthRes:', newAuthRes);\r\n      // saveUserToken(newAuthRes.access_token);  <-- save new token\r\n      localStorage.setItem('authToken', newAuthRes.id_token);\r\n  \r\n      // Setup the other timer after the first one\r\n      setTimeout(refreshToken, refreshTiming);\r\n    };\r\n  \r\n    // Setup first refresh timer\r\n    setTimeout(refreshToken, refreshTiming);\r\n  };","import React from 'react';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { refreshTokenSetup } from './refreshToken';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst clientId =\r\n  '466335527908-4o0rgob01n67tmjbji3ck7vgho9sqnjo.apps.googleusercontent.com';\r\n\r\nfunction Login() {\r\n    let history = useHistory();\r\n  const onSuccess= (res) => {\r\n    alert(\"logged in successfully\");\r\n    history.push({\r\n      pathname: \"/home\",\r\n      state:{res : res.Lu.tf}\r\n    });\r\n    refreshTokenSetup(res);\r\n  };\r\n\r\n  const onFailure = (res) => {\r\n    console.log('Login failed: res:', res);\r\n    alert(\r\n      `Failed to login. 😢 please ping this to shaikfurkhan1998@gmail.com`\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogin\r\n        clientId={clientId}\r\n        buttonText=\"Login\"\r\n        onSuccess={onSuccess}\r\n        onFailure={onFailure}\r\n        cookiePolicy={'single_host_origin'}\r\n        style={{ marginTop: '100px', alignSelf:\"center\" }}\r\n        isSignedIn={false}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import './App.css';\nimport React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Home from './home';\nimport Login from './login';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact component = {Login}/>\n\t\t  <Route path=\"/home\" component = {Home}/>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}